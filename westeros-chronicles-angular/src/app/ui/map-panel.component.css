.wrap{height:100%;display:flex;flex-direction:column}
.head{padding:12px 14px;border-bottom:1px solid var(--line);background:rgba(16,26,44,.65)}
.title{font-weight:900}
.sub{color:var(--muted);font-size:12px;margin-top:2px}
.body{padding:14px;overflow:auto}
.where{margin-bottom:10px}
.small{font-size:12px}
.muted{color:var(--muted)}

.map-toolbar{display:flex;gap:8px;align-items:center;margin-bottom:10px}
.map-toolbar button{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:rgba(16,26,44,.9);color:var(--text);cursor:pointer}

.map-shell{
  border:1px solid var(--line);
  border-radius:16px;
  overflow:auto;
  background:linear-gradient(180deg,#071325 0%,#10243c 38%,#1b3144 100%);
  padding:12px;
  margin-bottom:12px;
}

.map-image{
  width:100%;
  max-width:720px;
  aspect-ratio: 3 / 4;
  margin:0 auto;
  position:relative;
  transform-origin:center center;
  transition:transform .2s ease;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  background-image:
    radial-gradient(circle at 48% 11%, rgba(142,197,252,.15), transparent 40%),
    radial-gradient(circle at 15% 40%, rgba(40,74,95,.45), transparent 30%),
    radial-gradient(circle at 80% 42%, rgba(40,74,95,.32), transparent 30%),
    radial-gradient(circle at 50% 88%, rgba(120,84,52,.45), transparent 28%),
    url('/assets/westeros-map.svg');
  background-size:cover;
  background-position:center;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08), 0 12px 28px rgba(0,0,0,.35);
}

.pin{
  position:absolute;
  transform:translate(-50%,-50%);
  border:0;
  background:none;
  color:#e8eef7;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
}
.pin .dot{
  width:12px;height:12px;border-radius:999px;
  background:#a5d8ff;border:2px solid #0f2336;
  box-shadow:0 0 0 4px rgba(165,216,255,.2);
}
.pin .label{
  font-size:11px;
  font-weight:700;
  background:rgba(5,12,20,.72);
  border:1px solid rgba(255,255,255,.2);
  border-radius:8px;
  padding:2px 7px;
  white-space:nowrap;
}
.pin.selected .dot{background:#ffd166;box-shadow:0 0 0 5px rgba(255,209,102,.25)}
.pin.selected .label{border-color:#ffd166}
.pin.player-here .dot{background:#9bff8a}

.card{margin-top:10px;border:1px solid var(--line);border-radius:14px;padding:10px;background:rgba(16,26,44,.35)}
.h3{font-weight:800}
.areas{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.areas button{padding:8px 10px;border-radius:10px;border:1px solid var(--line);background:rgba(16,26,44,.85);color:var(--text);cursor:pointer}
.areas button:disabled{opacity:.45;cursor:not-allowed}
