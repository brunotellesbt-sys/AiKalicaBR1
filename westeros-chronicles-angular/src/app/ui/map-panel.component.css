.wrap{height:100%;display:flex;flex-direction:column}
.head{padding:12px 14px;border-bottom:1px solid var(--line);background:rgba(16,26,44,.65)}
.title{font-weight:900}
.sub{color:var(--muted);font-size:12px;margin-top:2px}
.body{padding:14px;overflow:auto}
.where{margin-bottom:10px}
.small{font-size:12px}
.muted{color:var(--muted)}

.map-toolbar{display:flex;gap:8px;align-items:center;margin-bottom:10px}
.map-toolbar button{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:rgba(16,26,44,.9);color:var(--text);cursor:pointer}

.map-shell{
  border:1px solid var(--line);
  border-radius:16px;
  overflow:auto;
  background:linear-gradient(180deg,#071325 0%,#10243c 38%,#1b3144 100%);
  padding:14px;
  margin-bottom:12px;
}

.map-image{
  width:100%;
  max-width:860px;
  aspect-ratio: 3 / 4;
  margin:0 auto;
  position:relative;
  transform-origin:center center;
  transition:transform .2s ease;
  border-radius:20px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.18);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08), 0 18px 36px rgba(0,0,0,.42);
  background: radial-gradient(circle at 50% 12%, rgba(134,189,236,.15), transparent 42%), #0b1e32;
}

.map-base{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  filter: contrast(1.04) saturate(1.05);
}

.pin{
  position:absolute;
  transform:translate(-50%,-50%);
  border:0;
  background:none;
  color:#e8eef7;
  cursor:pointer;
  display:flex;
  z-index:2;
  flex-direction:column;
  align-items:center;
  gap:4px;
}
.pin .dot{
  width:14px;height:14px;border-radius:999px;
  background:#a5d8ff;border:2px solid #0f2336;
  box-shadow:0 0 0 5px rgba(165,216,255,.28), 0 3px 8px rgba(0,0,0,.35);
}
.pin .label{
  font-size:12px;
  font-weight:700;
  background:rgba(4,11,22,.78);
  border:1px solid rgba(255,255,255,.2);
  border-radius:8px;
  padding:3px 8px;
  white-space:nowrap;
}
.pin.selected .dot{background:#ffd166;box-shadow:0 0 0 5px rgba(255,209,102,.25)}
.pin.selected .label{border-color:#ffd166}
.pin.player-here .dot{background:#9bff8a}

.card{margin-top:10px;border:1px solid var(--line);border-radius:20px;padding:10px;background:rgba(16,26,44,.35)}
.h3{font-weight:800}
.areas{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.areas button{padding:8px 10px;border-radius:10px;border:1px solid var(--line);background:rgba(16,26,44,.85);color:var(--text);cursor:pointer}
.areas button:disabled{opacity:.45;cursor:not-allowed}
